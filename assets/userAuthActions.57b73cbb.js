import{a}from"./index.2885cb15.js";const e=(e,t)=>async o=>{try{const r=await a.post("http://127.0.0.1:3001/user/login",{email:e,password:t});200===r.status&&r.data.token&&(r.data.loginTime=Date.now(),s={token:r.data.token,expireDate:r.data.loginTime+r.data.expiresIn,expireIn:r.data.expireIn},localStorage.removeItem("ggwp_user"),localStorage.setItem("ggwp_user",JSON.stringify(s)),o({type:"LOGIN/success",payload:r}))}catch(r){r.response.data.loginTime=Date.now(),o({type:"LOGIN/fail",payload:r.response})}var s},t=()=>async a=>{try{localStorage.removeItem("ggwp_user"),a({type:"LOGOUT/success",payload:null})}catch(e){a({type:"LOGOUT/fail",payload:e})}};export{t as a,e as l};
