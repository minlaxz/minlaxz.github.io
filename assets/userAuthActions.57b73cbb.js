import{a as r}from"./index.2885cb15.js";const s=a=>{localStorage.removeItem("ggwp_user"),localStorage.setItem("ggwp_user",JSON.stringify(a))},n=()=>{localStorage.removeItem("ggwp_user")},i=(a,t)=>async o=>{try{const e=await r.post("http://127.0.0.1:3001/user/login",{email:a,password:t});e.status===200&&e.data.token&&(e.data.loginTime=Date.now(),s({token:e.data.token,expireDate:e.data.loginTime+e.data.expiresIn,expireIn:e.data.expireIn}),o({type:"LOGIN/success",payload:e}))}catch(e){e.response.data.loginTime=Date.now(),o({type:"LOGIN/fail",payload:e.response})}},p=()=>async a=>{try{n(),a({type:"LOGOUT/success",payload:null})}catch(t){a({type:"LOGOUT/fail",payload:t})}};export{p as a,i as l};
